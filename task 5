#include <stdio.h>

#define MOD 12345

int countSequences(int n) {
    // Створити таблицю для зберігання кількості допустимих послідовностей довжини i, що закінчуються нулем
    int dp[n + 1];
    dp[0] = 1; // Base case: є одна допустима послідовність довжини 0, порожня послідовність
    dp[1] = 2; // Base case: є дві допустимі послідовності довжини 1, 0 та 1

    for (int i = 2; i <= n; i++) {
        // Щоб отримати кількість допустимих послідовностей довжини i, ми можемо дописати нуль до будь-якої допустимої послідовності довжини i-1
        // Також ми можемо додати одиницю до будь-якої допустимої послідовності довжини i-2, але нам потрібно виключити послідовності, що закінчуються двома одиницями
        dp[i] = (dp[i - 1] + dp[i - 2]) % MOD;
    }

    return (dp[n] + dp[n - 1]) % MOD; // Підрахувати кількість послідовностей, що закінчуються нулем та послідовностей, що закінчуються одиницею
}

int main() {
    int n;
    printf("Enter the length of the sequence (1 < n < 10000): ");
    scanf("%d", &n);

    int result = countSequences(n);

    printf("Number of sequences modulo 12345: %d\n", result);

    return 0;
}
